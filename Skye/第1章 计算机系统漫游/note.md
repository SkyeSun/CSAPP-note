# 前言
>学习系统的唯一方法就是做(do)系统，即在真正的系统上解决具体的问题，或是编写和运行程序

# 第1章 计算机系统漫游
`计算机系统` = `软件` + `硬件`

### `Hello` 程序的生命周期
##### 1. 从`源文件 hello.c`的表示开始
源文件实际上就是一个由值`0`和`1`组成的`位(比特)`序列，8`位`为1`字节(byte)`，每个字节表示某些特定文本字符（一般根据`ASCII`标准来指定）；

只由`ASCII`字符构成的文件称为`文本文件`，所有其他文件都称为`二进制文件`

计算机信息表示的基本思想：`系统中所有的信息——包括磁盘文件、内存中的程序、内存中存放的用户数据以及网络上传送的数据，都是由一串比特表示的。区分它们的唯一方法是我们读到这些数据对象时的上下文。`

程序员应该了解数字的机器表示方式，因为它们与实际的整数和实数是不同的。

##### 2. 程序的编译过程
`预处理阶段(预处理器cpp)`——>`编译阶段(编译器ccl)`——>`汇编阶段(汇编器as)`——>`链接阶段(ld)`

了解编译系统如何工作的意义：`优化程序性能；理解链接时出现的错误；避免安全漏洞；`

##### 3. 系统的硬件组成
	1. 总线——一组电子管道，携带信息字节并负责在各部件间传递。
	2. I/O设备——系统与外部的联系通道，每个I/O设备通过一个控制器或适配器与I/O总线相连。
	3. 主存——临时存储设备，用于存放程序被处理器执行时的数据，由一组动态随机存取存储器芯片组成，是一个线性的字节数组，每个字节具有唯一的索引。
	4. 处理器——CPU，解释（或执行）存储在主存中指令的引擎，核心是一个大小为一个字的寄存器，称为程序计数器（PC），任何时刻，它都指向主存中某条机器语言指令。

##### 4. 高速缓存
	解决的问题：系统把信息从一个地方挪到另一个地方（重复的复制）花费的时间太多。

耗时原因：较大存储设备比较小存储设备运行慢，而快速设备造价远高于同类低速设备。

	存储设备的层次结构：

	L0:寄存器
	L1~L3:高速缓存（SRAM）
	L4:主存（DRAM）
	L5:本地二级存储（本地磁盘）
	L6:远程二级存储（分布式文件系统，Web服务器）

	从上至下，设备的访问速度越来越慢、容量越来越大、每字节造价越来越便宜。

##### 5. 操作系统管理硬件

	操作系统：应用程序与硬件间的一层软件

两大基本功能：
- 防止硬件被失控程序滥用；
- 向上层提供简单一致的接口进行硬件的兼容；

###### 5.1 进程

	操作系统对一个正在运行的程序的一种抽象

- 概念
上下文：OS保持跟踪进程运行所需的所有状态信息
上下文切换：OS实现进程交错执行的机制

###### 5.2 线程

	一个进程由多个线程组成，每个线程都运行在线程的上下文中，并共享同样的代码和全局数据。

###### 5.3 虚拟内存

	每个进程独占地使用主存的假象。

###### 5.4 文件

	本质是字节序列。向应用程序提供看待各种I/O设备的统一视图。

###### 5.5 网络

	一个单独系统外的I/O设备。

##### 6. Amdahl定律

	S = 1 / ((1-a) + a/k)

	对系统的某个部分加速，其对性能的影响取决于该部分的重要性和加速程度。

	推论：
	要想显著加速整个系统，必须提升全系统中相当大的部分的速度。